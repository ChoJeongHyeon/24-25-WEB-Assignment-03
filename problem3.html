<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>문제 3</title>
    <link rel="stylesheet" href="problem3.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
    />
  </head>
  <body>
    <div class="login" id="join">회원가입</div>
    <hr class="hr_login" />

    <div class="box" id="signupBox">
      <img src="logo.jpeg" alt="사진" width="400px" height="155px" />
      <hr
        style="
          width: 100%;
          height: 1px;
          background-color: rgb(191, 186, 186);
          border: none;
          margin-top: 0px;
        "
      />

      <form id="signupForm">
        <div class="inputalign">
          <span class="material-symbols-outlined">person</span>
          <input
            type="text"
            id="user_id"
            class="inputbox"
            placeholder="아이디"
          />
        </div>
        <div class="inputalign">
          <span class="material-symbols-outlined">lock</span>
          <input
            type="password"
            id="password"
            class="inputbox"
            placeholder="비밀번호"
          />
        </div>
        <div class="inputalign">
          <span class="material-symbols-outlined">mail</span>
          <input type="text" id="email" class="inputbox" placeholder="이메일" />
        </div>
        <div class="inputalign">
          <span class="material-symbols-outlined">person</span>
          <input
            type="text"
            id="user_name"
            class="inputbox"
            placeholder="이름"
          />
        </div>
        <div class="inputalign">
          <span class="material-symbols-outlined">badge</span>
          <input
            type="text"
            id="birth"
            class="inputbox"
            placeholder="생년월일"
          />
        </div>
        <div class="inputalign">
          <span class="material-symbols-outlined">call</span>
          <input
            type="text"
            id="phone_number"
            class="inputbox"
            placeholder="전화번호"
          />
        </div>
        <div class="warning">
        <div id="w1" style="display: none">
            아이디는 3글자 이상이어야 합니다.
          </div>
          <div id="w2" style="display: none">
            비밀번호는 6글자 이상이어야 합니다.
          </div>
          <div id="w3" style="display: none">
            이메일 형식이 올바르지 않습니다.
          </div>
          <div id="w5" style="display: none">
            생년월일 형식이 올바르지 않습니다.
          </div>
          <div id="w6" style="display: none">
            전화번호는 숫자 11자여야 합니다.
          </div>
          <div id="w7" style="display: none">
            모든 항목은 공백일 수 없습니다.
        </div>
        </div>
        <button type="submit" class="buttonstyle1">회원가입</button>
        <button type="button" class="buttonstyle2" id="button2">닫기</button>
      </form>

      <!-- 에러 메시지 출력 영역 -->
     
        
      </div>
    </div>

    <script>
      // 로그인 창 닫기 함수
      function loginClose() {
        const signupBox = document.getElementById("signupBox");
        signupBox.style.display = "none"; // modal 숨기기
        console.log("loginClose() 호출됨"); // 콘솔 출력
      }

      // 로그인 창 보이기 함수
      function loginShow() {
        const signupBox = document.getElementById("signupBox");
        signupBox.style.display = "block"; // modal 나타내기
        console.log("loginShow() 호출됨"); // 콘솔 출력
      }

      // 회원가입 영역 클릭 시 loginShow() 호출
      document.getElementById("join").addEventListener("click", loginShow);

      // 회원가입 유효성 검사
      document
        .getElementById("signupForm")
        .addEventListener("submit", function (event) {
          event.preventDefault(); // 폼 기본 제출 방지

          const idValue = document.getElementById("user_id").value.trim();
          const passwordValue = document
            .getElementById("password")
            .value.trim();
          const emailValue = document.getElementById("email").value.trim();
          const nameValue = document.getElementById("user_name").value.trim();
          const birthdateValue = document.getElementById("birth").value.trim();
          const phoneValue = document
            .getElementById("phone_number")
            .value.trim();

          // 경고 문구 숨기기
          document.getElementById("w1").style.display = "none";
          document.getElementById("w2").style.display = "none";
          document.getElementById("w3").style.display = "none";
          document.getElementById("w5").style.display = "none";
          document.getElementById("w6").style.display = "none";
          document.getElementById("w7").style.display = "none";

          let valid = true;

          // 각 필드 공백 검사
          if (
            idValue.length === 0 ||
            passwordValue.length === 0 ||
            emailValue.length === 0 ||
            nameValue.length === 0 ||
            birthdateValue.length === 0 ||
            phoneValue.length === 0
          ) {
            document.getElementById("w7").style.display = "block";
            valid = false;
          }

          // 아이디 검사
          if (idValue.length < 3) {
            document.getElementById("w1").style.display = "block";
            valid = false;
          }
          // 비밀번호 검사
          if (passwordValue.length < 6) {
            document.getElementById("w2").style.display = "block";
            valid = false;
          }
          // 이메일 형식 검사
          if (!emailValue.match(/.+@.+\..+/)) {
            document.getElementById("w3").style.display = "block";
            valid = false;
          }
          // 생년월일 검사
          if (!birthdateValue.match(/^\d{4}-\d{2}-\d{2}$/)) {
            document.getElementById("w5").style.display = "block";
            valid = false;
          }
          // 전화번호 검사
          if (!phoneValue.match(/^\d{11}$/)) {
            document.getElementById("w6").style.display = "block";
            valid = false;
          }

          // 모든 입력이 유효할 경우 성공 페이지로 이동
          if (valid) {
            window.location.href = "success.html";
          }
        });

      // 닫기 버튼 클릭 시 loginClose() 호출
      document.getElementById("button2").addEventListener("click", loginClose);
    </script>
  </body>
</html>
